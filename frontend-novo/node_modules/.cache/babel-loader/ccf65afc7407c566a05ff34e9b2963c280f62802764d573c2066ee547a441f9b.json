{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import'./VehicleStatus.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VehicleStatus(){const[plate,setPlate]=useState(\"\");const[statusMessage,setStatusMessage]=useState(\"\");const handleCheckStatus=async e=>{e.preventDefault();try{const response=await axios.get(`http://127.0.0.1:5001/api/vehicle_status/${plate}`);setStatusMessage(response.data.message);}catch(error){setStatusMessage(\"Erro ao consultar status do veículo.\");console.error(\"Erro:\",error);}};// Função para formatar a placa no padrão AAA-0A00\nconst handlePlateChange=e=>{const inputValue=e.target.value.toUpperCase();// Converter para maiúsculas\nlet formattedValue=inputValue.replace(/[^A-Z0-9]/g,\"\");// Remover caracteres inválidos\n// Inserir o hífen no quarto caractere se o comprimento for maior que 3\nif(formattedValue.length>3){formattedValue=formattedValue.slice(0,3)+\"-\"+formattedValue.slice(3);}// Limitar o comprimento total a 7 (incluindo o hífen)\nif(formattedValue.length<=8){setPlate(formattedValue);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-status-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Consultar Hist\\xF3rico de Ve\\xEDculos\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCheckStatus,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Digite a placa do ve\\xEDculo (AAA-0A00)\",value:plate,onChange:handlePlateChange// Aplicar a formatação aqui\n,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Consultar\"})]}),/*#__PURE__*/_jsx(\"p\",{children:statusMessage})]});}export default VehicleStatus;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","VehicleStatus","plate","setPlate","statusMessage","setStatusMessage","handleCheckStatus","e","preventDefault","response","get","data","message","error","console","handlePlateChange","inputValue","target","value","toUpperCase","formattedValue","replace","length","slice","className","children","onSubmit","type","placeholder","onChange","required"],"sources":["C:/Users/Juh/OneDrive/Documentos/Estacionamento-App/frontend-novo/src/components/VehicleStatus.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport './VehicleStatus.css';\r\n\r\nfunction VehicleStatus() {\r\n  const [plate, setPlate] = useState(\"\");\r\n  const [statusMessage, setStatusMessage] = useState(\"\");\r\n\r\n  const handleCheckStatus = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.get(`http://127.0.0.1:5001/api/vehicle_status/${plate}`);\r\n      setStatusMessage(response.data.message);\r\n    } catch (error) {\r\n      setStatusMessage(\"Erro ao consultar status do veículo.\");\r\n      console.error(\"Erro:\", error);\r\n    }\r\n  };\r\n\r\n  // Função para formatar a placa no padrão AAA-0A00\r\n  const handlePlateChange = (e) => {\r\n    const inputValue = e.target.value.toUpperCase(); // Converter para maiúsculas\r\n    let formattedValue = inputValue.replace(/[^A-Z0-9]/g, \"\"); // Remover caracteres inválidos\r\n\r\n    // Inserir o hífen no quarto caractere se o comprimento for maior que 3\r\n    if (formattedValue.length > 3) {\r\n      formattedValue = formattedValue.slice(0, 3) + \"-\" + formattedValue.slice(3);\r\n    }\r\n\r\n    // Limitar o comprimento total a 7 (incluindo o hífen)\r\n    if (formattedValue.length <= 8) {\r\n      setPlate(formattedValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"vehicle-status-container\">\r\n      <h2>Consultar Histórico de Veículos</h2>\r\n      <form onSubmit={handleCheckStatus}>\r\n        <input \r\n          type=\"text\"\r\n          placeholder=\"Digite a placa do veículo (AAA-0A00)\"\r\n          value={plate}\r\n          onChange={handlePlateChange} // Aplicar a formatação aqui\r\n          required\r\n        />\r\n        <button type=\"submit\">Consultar</button>\r\n      </form>\r\n      <p>{statusMessage}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VehicleStatus;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7B,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtD,KAAM,CAAAW,iBAAiB,CAAG,KAAO,CAAAC,CAAC,EAAK,CACrCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,4CAA4CR,KAAK,EAAE,CAAC,CACrFG,gBAAgB,CAACI,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAC,CACzC,CAAE,MAAOC,KAAK,CAAE,CACdR,gBAAgB,CAAC,sCAAsC,CAAC,CACxDS,OAAO,CAACD,KAAK,CAAC,OAAO,CAAEA,KAAK,CAAC,CAC/B,CACF,CAAC,CAED;AACA,KAAM,CAAAE,iBAAiB,CAAIR,CAAC,EAAK,CAC/B,KAAM,CAAAS,UAAU,CAAGT,CAAC,CAACU,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAAE;AACjD,GAAI,CAAAC,cAAc,CAAGJ,UAAU,CAACK,OAAO,CAAC,YAAY,CAAE,EAAE,CAAC,CAAE;AAE3D;AACA,GAAID,cAAc,CAACE,MAAM,CAAG,CAAC,CAAE,CAC7BF,cAAc,CAAGA,cAAc,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAG,GAAG,CAAGH,cAAc,CAACG,KAAK,CAAC,CAAC,CAAC,CAC7E,CAEA;AACA,GAAIH,cAAc,CAACE,MAAM,EAAI,CAAC,CAAE,CAC9BnB,QAAQ,CAACiB,cAAc,CAAC,CAC1B,CACF,CAAC,CAED,mBACEpB,KAAA,QAAKwB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC3B,IAAA,OAAA2B,QAAA,CAAI,uCAA+B,CAAI,CAAC,cACxCzB,KAAA,SAAM0B,QAAQ,CAAEpB,iBAAkB,CAAAmB,QAAA,eAChC3B,IAAA,UACE6B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,yCAAsC,CAClDV,KAAK,CAAEhB,KAAM,CACb2B,QAAQ,CAAEd,iBAAmB;AAAA,CAC7Be,QAAQ,MACT,CAAC,cACFhC,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,WAAS,CAAQ,CAAC,EACpC,CAAC,cACP3B,IAAA,MAAA2B,QAAA,CAAIrB,aAAa,CAAI,CAAC,EACnB,CAAC,CAEV,CAEA,cAAe,CAAAH,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}